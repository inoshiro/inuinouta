{% load static %}
<html>
	<head>
		<title>いぬいのうた | 戌亥とこ非公式ファンサイト</title>
    <meta name="description" content="いぬいのうたで戌亥とこさんの歌を楽しもう。">
    <meta name="keywords" content="戌亥とこ,ケルベロス,にじさんじ,歌,歌ってみた,バーチャルYouTuber,Vtuber,いぬいのうた,YouTube">
    <meta name="google-site-verification" content="ET167zHrokrdV7LkyXTpcLWAysh2k145WpWB4XkXRQc" />
		<link rel="icon" type="image/png" sizes="32x32" href="{% static "images/favicon-32x32.png" %}">
		<link rel="icon" type="image/png" sizes="16x16" href="{% static "images/favicon-16x16.png" %}">
    <script src="https://kit.fontawesome.com/14c8f655ab.js" crossorigin="anonymous"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-166010180-1"></script>
<script>

// inui original
var initialVideoId = "{{ initial_video.video_id }}";
var initialVideoStart  = {{ initial_song.start_at }};
</script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

<script src="{% static "js/common.js" %}"></script>
<script src="{% static "js/site_mobile.js" %}"></script>
<script>
/* 全ての曲と動画情報を書き出す */
var songList = new SongList();
var videoList = new VideoList();
var song_prev;
var video_prev;
{% for v in videos %}
video = new Video("{{ v.video_id }}", "{{ v.title }}");
if (video_prev) {
	video.prev = video_prev;
	video_prev.next = video;
}
{% for s in v.sorted_song_set %}
obj = new Song("{{ s.id }}", video, "{{ s.title }}", "{{ s.artist}}", {{ s.start_at }}, {{ s.end_at }} );
if (song_prev) {
	obj.prev = song_prev;
	song_prev.next = obj;
}
video.addSong(obj);
songList.addSong(obj);
song_prev = obj;

{% endfor %}
videoList.addVideo(video);
video_prev = video;
{% endfor %}

var songPlaying = songList.searchSong('{{initial_video.video_id}}', {{ initial_song.start_at }});


</script>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@100;300;400;500;700;900&display=swap" rel="stylesheet">

<style>
body {
	margin: 0;
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
	font-family: 'Noto Sans JP', sans-serif;
	font-weight: 400;
	color: #333;
}
div#main {
	position: absolute;
	top: 0;
	right: 0;
	left: 0;
	bottom: 0;
}
div#content {
	height: calc(100% - 150px);
}
div#header {
	z-index: 110;
	width: 100%;
	background-color: #9d3757;
	padding: 10px 0px 10px 20px;
	margin-top: -10px;
	margin-bottom: 10px;
	border-right: 10px solid #fff;
	border-bottom: 10px solid #fff;
	position: fixed;
}
div#header h1 {
	color: #fff;
	font-size: 30px;
	font-weight: bold;
	margin: 0px;
}
div#body-content {
	z-index: 90;
}
div#player-container {
	position: fixed;
	z-index: 100;
	width: 100%;
	padding-top: 70px;
  padding-left: 20px;
	background-color: #fff;
	border-bottom: 5px solid #fff;

}
div#message-container {
	position: static;
	padding-top: 535px;
  padding-left: 20px;
	border-bottom: 1px solid #ccc;
}
div#message-container .player-message {
	margin-top:20px;
}
div#message-container .player-message h2 {
	font-size: 16px;
	font-weight: normal;
	margin-bottom: 5px;
}
div#message-container .player-message p {
	font-size: 14px;
	color: #333;
	margin-top: 5px;
	margin-left: 10px;
}
div#scroll-content {
	position: absolute;
  overflow-y: scroll;
  overflow-x: hidden;
  height: inherit;
  -webkit-overflow-scrolling: touch;
}
div#videos {
	height: inherit;
	padding-top: 10px;
  padding-bottom: 150px;
}
div.video {
	position: static;
	padding : 10px;
	margin-left: 10px;
	border-bottom: 1px solid #ccc;
}
div.video-thumb {
	position: relative;
	float: left;
	width: 128px;
	height: 72px;
	background-color: #eee;
}
div.video-thumb img {
	z-index: 90;
	width: 128px;
	height: 72px;
}
div.video-info {
	z-index: 80;
	position: static;
	padding-top: 5px;
	padding-left: 140px;

}
div.video-info span.title {
	font-size: 18px;
}
div.video-info span.date {
	font-size: 12px;
	color: #666;
}
div.song-list {
	position: relative;
	clear: both;
}
div.song-list ul {
	padding-top: 10px;
	margin-top: 0px;
	margin-bottom: 0px;
	font-size: 18px;
}
div.song-list ul li {
	padding-bottom: 5px;
}

div#navigation-wrapper {
	box-shadow: 0 0 8px rgba(0,0,0,.4);
	z-index: 120;
	background-color: #fff;
	display: flex;
	position: relative;
	height: 150px;
	width: 100%;
}
div#navigation-left {
	flex: 1;
	height: 150px;
	position: relative;
	white-space: nowrap;
}
div#navigation-middle {
	display: flex;
  flex: 1;
	align-items: center;
  justify-content: center;
	height: 100%;
	margin: 0px 20px 0px 20px;
}
div#navigation-right {
	display: flex;
	flex: 1;
	justify-content: flex-end;
	height: 100%;
	align-items: center;
}
.fa-color-inui {
	color: #9d3757;
}
.fa-color-inui:active {
	color: #d56789;
}
.fa-color-tweet {
	color: #00acee;
}
i.control-button {
	margin: 0px 50px;
}
</style>
	</head>
	<body>
    <div id="main">
    <div id="content">
      <div id="header">
        <h1>いぬいのうた</h1>
      </div>
      <div id="player-container">
        <div id="youtube-player"></div>
      </div>
      <div id="scroll-content">
      <div id="message-container">
        <div class="player-message">
          <h2>使い方</h2>
          <p>
          曲名をクリックすると動画を読み込んで曲の頭出しをします。<br />
          <br />
          サムネイルをクリックすると元動画に飛べます。また曲名リンクから新しいウィンドウを開いても元動画で頭出しができます。コメントを見たい場合などはそちらからどうぞ。
          </p>
        </div>
          <div class="player-message">
            <h2>このサイトについて</h2>
            <p>
            にじさんじ所属のバーチャルライバー、<strong><a href="https://www.youtube.com/channel/UCXRlIK3Cw_TJIQC5kSJJQMg?sub_confirmation=1">戌亥とこ</a></strong>さんの歌を視聴しやすいようにまとめた<u>非公式ファンサイト</u>です。
            戌亥とこさん及び"いちから株式会社"とは直接の関係はありません。
            </p>
            <p>
            ご意見、不具合報告等はツイッター(<a href="https://twitter.com/ino463">@ino463</a>)または<a href="https://marshmallow-qa.com/ino463">こちら</a>にでも。
            </p>
          </div>
        </div>
        
        <div id="videos">
        {% for v in videos %}
          <div class="video">
            <div class="video-thumb"><a href="{{ v.url }}"><img src="http://img.youtube.com/vi/{{ v.video_id }}/mqdefault.jpg"></a></div>
            <div class="video-info">
              <span class="title">{{ v.title }}</span>
              <span class="date">{{ v.published_at|date:"Y/m/d" }}</span>
            </div>
            <div class="song-list">
              <ul>
              {% for s in v.sorted_song_set %}
              <li><a href="{{v.url }}&t={{ s.start_at }}" class="song-title" onclick="playSong(songList.songs[{{ s.id }}])">{{ s.title }}</a> / {{ s.artist }}
              {% endfor %}
              </ul>
            </div>
          </div>
        {% endfor %}
        </div>
      </div>
    </div><! -- content end -->
    <div id="navigation-wrapper">
      <div id="navigation-left">
      </div>
      <div id="navigation-middle">
        <a href="#" onclick="controller.playPrevSong()" ontouchstart=""><i class="fas fa-step-backward fa-4x fa-color-inui control-button" id="control-button-forward"></i></a>
        <a href="#" id="control-icon" onClick="changePlayingState()" ontouchstart=""><i class="far fa-play-circle fa-8x fa-color-inui control-button"></i></a>
        <a href="#" onclick="controller.playNextSong()" ontouchstart=""><i class="fas fa-step-forward fa-4x fa-color-inui control-button" id="control-button-forward"></i></a>
      </div>
      <div id="navigation-right">
      </div>
    </div>
  </div>
</body>
</html>
