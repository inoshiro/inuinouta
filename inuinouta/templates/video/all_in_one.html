{% load static %}
<html prefix="og: http://ogp.me/ns#">
  <head>
    <title>いぬいのうた | 戌亥とこ非公式ファンサイト</title>
    <meta name="description" content="いぬいのうたは、にじさんじ所属のバーチャルライバーである戌亥とこさんを応援するファンサイトです。戌亥とこさんが歌った楽曲を探しやすく、再生しやすいようにまとめています。">
    <meta name="keywords" content="戌亥とこ,ケルベロス,にじさんじ,歌,歌ってみた,バーチャルYouTuber,Vtuber,いぬいのうた,YouTube">
    <meta name="google-site-verification" content="ET167zHrokrdV7LkyXTpcLWAysh2k145WpWB4XkXRQc" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://uta.inui-dondon-sukininaru.net/" />
    <meta property="og:title" content="いぬいのうた | 戌亥とこ非公式ファンサイト" />
    <meta property="og:image" content="https://uta.inui-dondon-sukininaru.net/static/images/og_image.png" />
    <meta property="og:description" content="いぬいのうたは、にじさんじ所属のバーチャルライバーである戌亥とこさんを応援するファンサイトです。戌亥とこさんが歌った楽曲を探しやすく、再生しやすいようにまとめています。" />

    <meta name="twitter:card" content="summary" />
    <meta name="twitter:description" content="いぬいのうたは、にじさんじ所属のバーチャルライバーである戌亥とこさんを応援するファンサイトです。戌亥とこさんが歌った楽曲を探しやすく、再生しやすいようにまとめています。" />
    <meta name="twitter:title" content="いぬいのうた | 戌亥とこ非公式ファンサイト" />
    <meta name="twitter:image" content="https://uta.inui-dondon-sukininaru.net/static/images/og_image.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="{% static "images/favicon-32x32.png" %}">
    <link rel="icon" type="image/png" sizes="16x16" href="{% static "images/favicon-16x16.png" %}">
    <link rel="apple-touch-icon" href="https://uta.inui-dondon-sukininaru.net/static/images/pwa-icon/icon-192x192.png" sizes="192x192" />
    <link rel="manifest" href="/static/manifest.json">
    <meta name="viewport" content="width=device-width">

<script src="https://kit.fontawesome.com/14c8f655ab.js" crossorigin="anonymous"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-166010180-1"></script>
<script>
// for PWA
if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('/static/js/service-worker.js').then(function() { console.log('Service Worker Registered'); });
}

</script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
<script src="https://cdn.datatables.net/t/bs-3.3.6/jqc-1.12.0,dt-1.10.11/datatables.min.js"></script>
<script src="{% static "js/youtube_playlist.js" %}"></script>
<script src="{% static "js/common.js" %}"></script>
<script src="{% static "js/site_pc.js" %}"></script>

<script>

const data_videos = {{ json_videos|safe }}
const data_songs = {{ json_songs|safe }};
const playlist = {{ json_playlist|safe }};

controller = new Controller();
let player_config = new YouTubePlayerConfig('405', '720', 'youtube-player');
let player_init_functions = function() {
  updateTweetData();
  updateSongRowStyle();
}
player_config.player_init(controller, playlist, {{ initial_song.id }}, "{{ initial_song.video.video_id }}", {{ initial_song.start_at }}, player_init_functions, syncPlayingState);

 
var intervalProcess = function() {
	controller.autoJump();
}
setInterval(intervalProcess, 1000);

var songTable;
$(document).ready( function () {
  songTable = $('#song-table').DataTable( {
    autoWidth: false,
    paging: false,
    order: [],
    columns: [
      null,
      null,
      null,
      { searchable: false }
    ]
  } );
} );

</script>

<link rel="stylesheet" href="https://cdn.datatables.net/t/bs-3.3.6/jqc-1.12.0,dt-1.10.11/datatables.min.css"/>
<link href="{% static "css/datatable.css" %}" rel="stylesheet">
<link href="{% static "css/pc.css" %}" rel="stylesheet">
{% if font_rainbow %}<link href="{% static "css/rainbow.css" %}" rel="stylesheet">{% endif %}
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@100;300;400;500;700;900&display=swap" rel="stylesheet">

  </head>
  <body>
<div id="main">
    <div id="header">
      <div id="header-left">
        <h1>いぬいのうた</h1>
      </div>
      <div id="header-right">
        <a href="https://twitter.com/inui_toko" title="戌亥とこのTwitter" class="icon" target="_blank">
          <i class="fab fa-twitter-square fa-3x"></i>
        </a>
        <a href="https://www.youtube.com/channel/UCXRlIK3Cw_TJIQC5kSJJQMg?sub_confirmation=1" class="icon" title="戌亥とこのYouTubeチャンネル" target="blank">
          <i class="fab fa-youtube-square fa-3x"></i>
        </a>
      </div>
    </div>
    <div id="body">
    <div id="player-wrapper">
      <div id="youtube-player"><p onclick="player_config.player_init(playlist, syncPlayingState)">クリックで再読み込み</p></div>
    </div>
    <div id="message-wrapper">
      <div class="player-message">
        <h2><a data-toggle="collapse" href="#message-usage" role="button" aria-expanded="true" aria-controls="message-usage">使い方</a></h2>
        <div class="message-body collapse{% if request.user_agent.is_pc %} show in{% endif %}" id="message-usage">
        曲名をクリックすると動画を読み込んで曲の頭出しをします。<br />
        <br />
        動画タイトルをクリックすると元動画に飛べます。また曲名リンクから新しいウィンドウを開いても元動画で頭出しができます。コメントを見たい場合などはそちらからどうぞ。
        </div>
      </div>
      <div class="player-message">
        <h2><a data-toggle="collapse" href="#message-site" role="button" aria-expanded="true" aria-controls="message-site">このサイトについて</a></h2>
        <div class="message-body collapse{% if request.user_agent.is_pc %} show in{% endif %}" id="message-site">
        にじさんじ所属のバーチャルライバー、<strong><a href="https://www.youtube.com/channel/UCXRlIK3Cw_TJIQC5kSJJQMg?sub_confirmation=1">戌亥とこ</a></strong>さんの歌を視聴しやすいようにまとめた<u>非公式ファンサイト</u>です。
        戌亥とこさん及びANYCOLOR株式会社とは一切関係はありません。<br />
        <br />
        ご意見、不具合報告等はツイッター(<a href="https://twitter.com/inui_no_uta">@inui_no_uta</a>)または<a href="https://marshmallow-qa.com/inui_no_uta">こちら</a>にでも。
        </div>
      </div>
    </div>
    <div id="video-wrapper">
    <table id='song-table'>
      <thead>
        <tr class="header-row">
          <th class="status" style="width:1px;padding-right:10px;"></th>
          <th class="title">タイトル</th>
          <th class="artist">アーティスト</th>
          <th class="video-title">動画タイトル</th>
        </tr>
      </thead>
      <tbody>
      {% for v in videos %}
        {% for s in v.sorted_song_set %}
        <tr class="song-row" id="song-row-{{ s.id }}">
          <td class="status">{{ forloop.parentloop.counter|stringformat:"03d" }}-{{ forloop.counter|stringformat:"03d" }}</td>
          <td class="title">
            <a href="{{v.url }}&t={{ s.start_at }}" title="{{ s.title }}" class="song-title" onclick="controller.playScene({{ s.id }})"> <img src="{{ v.thumbnail_path }}"></a>
            <a href="{{v.url }}&t={{ s.start_at }}" title="{{ s.title }}" class="song-title" onclick="controller.playScene({{ s.id }})">{{ s.title }} </a>
          </td>
          <td class="artist"><a class="artist-name" onclick='applyFilter(this.text);'>{{ s.artist }}</a></td>
          <td class="video-title"><a href="{{ v.url }}" title="{{ v.title }}">{{ v.title }}</a></td>
        </tr>
        {% endfor %}
      {% endfor %}
      </tbody>
    </table>
    </div>
  </div><!-- content end -->
  <div id="navigation-wrapper">
    <div id="navigation-left">
      <div id="navigation-thumb"><img src="{{ initial_song.video.thumbnail_path }}" id="playing-thumb"></div>
      <div id="navigation-song-info">
        <div id="navigation-song-info-text">
          <div id="navigation-song-title">{{ initial_song.title}} / {{ initial_song.artist }}</div>
          <div id="navigation-video-title">{{ initial_song.video.title }}</div>
        </div>
      </div>
    </div>
    <div id="navigation-middle">
      <a title="前の曲へ" onclick="controller.prev()"><i class="fas fa-step-backward fa-2x fa-color-inui control-button clickable-button" id="control-button-forward"></i>
      <a title="再生する" id="control-icon" onClick="changePlayingState()"><i class="far fa-play-circle fa-4x fa-color-inui clickable-button"></i></a>
      <a title="次の曲へ" onclick="controller.next()"><i class="fas fa-step-forward fa-2x fa-color-inui control-button clickable-button" id="control-button-forward"></i></a>
    </div>
    <div id="navigation-right">
      <div id="control-option">
        <a title="シャッフル再生切り替え" id="shuffle-icon" onClick="changeShuffleMode(playlist)"><i class="fas fa-random fa-2x clickable-button" id="control-button-shuffle"></i></a>
      </div>
      <div id="twitter-share">
        <a href="#" title="再生中の曲をシェアする" id="twitter-share-link" target="inui_no_uta">
          <i class="fas fa-external-link-alt fa-2x fa-color-tweet"></i>
        </a>
      </div>
    </div>
  </div>
</div><!-- main end -->
<script>
updateTweetData();
</script>
</body>
</html>
